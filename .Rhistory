base_dir          <- setwd("../../")
scripts_dir       <- paste0(base_dir, "/R")
tmp_dir           <- paste0(base_dir, "/tmp")
raw_data_dir      <- paste0(base_dir, "/data/raw")
#source(paste0(scripts_dir, "/readModels.R"))
source(paste0(scripts_dir, "/to_test/fx_traits_vs_biomass.R"))
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
source(paste0(scripts_dir, "/to_test/readIBC.R"))
IBC_grass <- models$Grass3 %>%
ungroup() %>% # There shouldn't be groups anyways
mutate(Biomass = scales::rescale(Biomass,
to = c(0, 100)))%>%
select(-Model, -SeedRain) %>%
select(Rep, Ninitial, SpeciesID, Year, Stage, Productivity, Biomass, LMR, MaxMass, Gmax, SLA, meanSpacerLength)
scripts_dir
scripts_dir <- "/home/ar07wiga/Documents/SimNet/R"
scripts_dir
### Grass3 (IBC-grass)
source(paste0(scripts_dir, "/to_test/readIBC.R"))
IBC_grass <- models$Grass3 %>%
ungroup() %>% # There shouldn't be groups anyways
mutate(Biomass = scales::rescale(Biomass,
to = c(0, 100)))%>%
select(-Model, -SeedRain) %>%
select(Rep, Ninitial, SpeciesID, Year, Stage, Productivity, Biomass, LMR, MaxMass, Gmax, SLA, meanSpacerLength)
source(paste0(scripts_dir, "/to_test/readIBC.R"))
raw_data_dir
raw_data_dir <- "/home/ar07wiga/Documents/SimNet/data/raw"
source(paste0(scripts_dir, "/to_test/readIBC.R"))
IBC_grass <- models$Grass3 %>%
ungroup() %>% # There shouldn't be groups anyways
mutate(Biomass = scales::rescale(Biomass,
to = c(0, 100)))%>%
select(-Model, -SeedRain) %>%
select(Rep, Ninitial, SpeciesID, Year, Stage, Productivity, Biomass, LMR, MaxMass, Gmax, SLA, meanSpacerLength)
IBC_grass
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
g_by <- c("SpeciesID", "Year", "Stage", "LMR", "MaxMass", "Gmax", "SLA", "meanSpacerLength")
lab1 <- "Gmax (maximum resource utilization per time step)"
lab2 <- "MaxMass (Plant's maximum size)"
lab3 <- "LMR (leaf to mass ratio)"
lab4 <- "MeanSpacerLength"
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
tempdir('~/Documents/SimNet/tmp')
tempdir<-('~/Documents/SimNet/tmp')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path)); setwd("../../")
base_dir          <- getwd()
scripts_dir       <- paste0(base_dir, "/R")
tmp_dir           <- paste0(base_dir, "/tmp")
raw_data_dir      <- paste0(base_dir, "/data/raw")
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
source(paste0(scripts_dir, "/to_test/readPPA.R"))
PPA <- models$Forest1 %>%
ungroup() %>% # There shouldn't be groups anyways
mutate(Biomass = scales::rescale(Biomass,
to = c(0, 100)))%>%
select(-Model, -SeedRain)
g_by <- c("SpeciesID", "Year", "Stage", "PC1score", "PC2score")
lab1 <- "PC1score (associated with fast-slow lifecycle)"#plant height)"
lab2 <- "PC2score (associated with tree stature)"# LMA -leaf mass per area)"
F1C1 <- fx_traits_vs_biomass("F1C1",PPA,1,meta,g_by,"PC2score","PC1score",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
F1C1 <- fx_traits_vs_biomass("F1C1",PPA,1,meta,g_by,"PC2score","PC1score",lab1,lab2)
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
g_by <- c("SpeciesID", "Year", "Stage", "LMR", "MaxMass", "Gmax", "SLA", "meanSpacerLength")
lab1 <- "Gmax (maximum resource utilization per time step)"
lab2 <- "MaxMass (Plant's maximum size)"
lab3 <- "LMR (leaf to mass ratio)"
lab4 <- "MeanSpacerLength"
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
IBC_grass$Gmax
mean(IBC_grass$Gmax)
mean(PPA$PC1score)
mean(PPA$PC2score)
t1 <- mean(PPA$PC2score)
t1**2
t2 <- mean(IBC_grass$Gmax)
t2**2
t2*.2
t2
t2*.02
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
g_by <- c("SpeciesID", "Year", "Stage", "LMR", "MaxMass", "Gmax", "SLA", "meanSpacerLength")
lab1 <- "Gmax (maximum resource utilization per time step)"
lab2 <- "MaxMass (Plant's maximum size)"
lab3 <- "LMR (leaf to mass ratio)"
lab4 <- "MeanSpacerLength"
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
PPA$[1]
PPA$[[1]]
PPA$"PC1score"
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
PPA[3]
PPA["PC1score"]
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
PPA[3]
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
typeof(PPA[3])
mean(PPA[3])
l <- (PPA[3])
lapply(l,mean)
l
sapply(l,mean)
mean)l
mean(l)
lapply(l, mean)
lapply(l, mean, na.rm = TRUE)
colMeans(l, na.rm = TRUE)
typeof(l)
typeof(l[1])
typeof(l[[1]])
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
l <- as.factor(PPA[3])
l <- as.factor(PPA[3][])
summary(l)
l
l <- as.numeric(PPA[3][])
l <- as.numeric(PPA[3])
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
l
typeof(l)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
g_by <- c("SpeciesID", "Year", "Stage", "PC1score", "PC2score")
lab1 <- "PC1score (associated with fast-slow lifecycle)"#plant height)"
lab2 <- "PC2score (associated with tree stature)"# LMA -leaf mass per area)"
F1C1 <- fx_traits_vs_biomass("F1C1",PPA,1,meta,g_by,"PC2score","PC1score",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
F1C1 <- fx_traits_vs_biomass("F1C1",PPA,1,meta,g_by,"PC2score","PC1score",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
F1C1 <- fx_traits_vs_biomass("F1C1",PPA,1,meta,g_by,"PC2score","PC1score",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
F1C1 <- fx_traits_vs_biomass("F1C1",PPA,1,meta,g_by,"PC2score","PC1score",lab1,lab2)
g_by <- c("SpeciesID", "Year", "Stage", "LMR", "MaxMass", "Gmax", "SLA", "meanSpacerLength")
lab1 <- "Gmax (maximum resource utilization per time step)"
lab2 <- "MaxMass (Plant's maximum size)"
lab3 <- "LMR (leaf to mass ratio)"
lab4 <- "MeanSpacerLength"
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
source('~/Documents/SimNet/R/to_test/fx_traits_vs_biomass.R')
G3C1 <- fx_traits_vs_biomass("G3C1",IBC_grass,1,meta,g_by,"Gmax","MaxMass",lab1,lab2)
g_by <- c("SpeciesID", "Year", "Stage", "PC1score", "PC2score")
lab1 <- "PC1score (associated with fast-slow lifecycle)"#plant height)"
lab2 <- "PC2score (associated with tree stature)"# LMA -leaf mass per area)"
F1C1 <- fx_traits_vs_biomass("F1C1",PPA,1,meta,g_by,"PC2score","PC1score",lab1,lab2)
